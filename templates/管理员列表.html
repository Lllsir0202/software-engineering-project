<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>智慧牧场后台管理系统</title>
<script src="{{ url_for('static', filename = 'js/jquery.js') }}"></script>
<link href="{{ url_for('static', filename = 'css/font-awesome.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename = 'css/bootstrap.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename = 'css/style-responsive.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename = 'css/default-theme.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename = 'css/style.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename = 'css/bootstrap-reset.css') }}" rel="stylesheet">
</head>
<body class="sticky-header">
<section>
  <div class="sidebar-left">
    <div class="sidebar-left-info">
      <div class=" search-field"> </div>
      <ul class="nav nav-pills nav-stacked side-navigation">
        <li class="menu-list nav-active"><a href=""><i class="fa fa-users"></i> <span>用户管理</span></a>
          <ul class="child-list">
            <li><a href="{{ url_for('user_list') }}">普通用户列表</a></li>
            <li class="active"><a href="{{ url_for('admin_list') }}">管理员列表</a></li>
          </ul>
        </li>
        <li class="menu-list"><a href=""><i class="fa fa-desktop"></i> <span>机器管理</span></a>
          <ul class="child-list">
            <li ><a href="{{ url_for('computer_list') }}"> 机器列表</a></li>
            <li><a href="{{ url_for('sensor_list') }}">传感器列表</a></li>
            <li><a href="{{ url_for('warning') }}">补货预警设置</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
  <div class="body-content" >
    <div class="header-section">
      <div class="logo dark-logo-bg"> <a href="{{ url_for('user_list') }}"> <img src="{{ url_for('static', filename = 'images/logo-icon.png') }}" alt="">  
        <!--<i class="fa fa-maxcdn"></i>--> 
        <span class="brand-name" style="font-size: 15px; font-weight: bold;">智慧牧场后台管理系统</span> </a> </div>
      <div class="icon-logo dark-logo-bg hidden-xs hidden-sm"> <a href="{{ url_for('user_list') }}"><img src="{{ url_for('static', filename = 'images/logo-icon.png') }}" alt=""> </a> </div>
      <a class="toggle-btn"><i class="fa fa-outdent"></i></a>
      <div class="kouhao">智慧养殖</div>
      <div class="notification-wrap">
        <div class="right-notification">
          <ul class="notification-menu">
            <li> <a href="javascript:;" class="btn btn-default  dropdown-toggle"> <i class="fa  fa-cogs"></i>账号设置 </a> </li>
            <li> <a href="/homepage" class="btn btn-default  dropdown-toggle"> <i class="fa fa-sign-out"></i>退出登录 </a> </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="page-head">
      <ol class="breadcrumb">
        <li><a href="#">用户管理</a></li>
        <li  class="active">管理员列表</li>
      </ol>
      <h3>管理员列表</h3>
    </div>
    <div class="wrapper">
      <div class="panel">
        <div class="panel-body">
<div class="clearfix">
            <div class="pull-left"> 
				<a href="#" class="btn btn-primary" data-toggle="modal" data-target="#myModal2">新增用户</a>
				


			  </div>
            <div class="pull-right"></div>
          </div>
			<table class="table m-t-20">
            <tbody id="userTableBody">
            <tr>
                <th>用户登录名</th>
                <th>用户密码</th>
                <th>用户邮箱</th>
                <th>操作</th>
            </tr>
            </tbody>
      </table>
			
			
			
          <div class="page clearfix">
            <div class="pull-left">共 400 条记录 第 1 / 80 页</div>
            <div class="pull-right">
              <nav aria-label="..." class="pull-left">
                <ul class="pagination">
                  <li class="disabled"><a href="#" aria-label="Previous"><span aria-hidden="true">«</span></a></li>
                  <li class="active"><a href="#">1 <span class="sr-only">(current)</span></a></li>
                  <li><a href="#">2</a></li>
                  <li><a href="#">3</a></li>
                  <li><a href="#">4</a></li>
                  <li><a href="#">5</a></li>
                  <li><a href="#" aria-label="Next"><span aria-hidden="true">»</span></a></li>
                </ul>
              </nav>
              <div class="pull-left p-r-20  p-l-20">
                <select class="form-control">
                  <option>10条每页</option>
                </select>
              </div>
              <div class="pull-left">跳至
                <input type="text" value="5" class="form-control">
                页</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

	<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document" style="width: 500px;">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">修改用户信息</h4>
      </div>
      <div class="modal-body">
    <div class="form1">
           
		<ul class="row">
              <li class="col-xs-12"> <span>用户名称：</span><input type="text" class="form-control"></li>
              <li class="col-xs-12"> <span>用户呢称：</span> <input type="text" class="form-control"></li>
              <li class="col-xs-12"> <span>用户密码：</span> <input type="text" class="form-control"></li>
              <li class="col-xs-12"> <span>用户身份：</span> <select class="form-control"><option>管理员</option></select></li>
            </ul>
		
          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
        <button type="button" class="btn btn-primary">修改</button>
      </div>
    </div>
  </div>
</div>
	
	
	<div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2">
  <div class="modal-dialog" role="document" style="width: 500px;">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel2">新增管理员</h4>
      </div>
      <div class="modal-body">
    <div class="form1">
            <ul class="row">
              <li class="col-xs-12"> <span>用户名称：</span><input type="text" class="form-control"></li>
              <li class="col-xs-12"> <span>用户呢称：</span> <input type="text" class="form-control"></li>
              <li class="col-xs-12"> <span>用户密码：</span> <input type="text" class="form-control"></li>
            </ul>
          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
        <button type="button" class="btn btn-primary">新增</button>
      </div>
    </div>
  </div>
</div>
	
	
	
	
	
	
	
<script src="{{ url_for('static', filename = 'js/bootstrap.js') }}"></script> 
<script src="{{ url_for('static', filename = 'js/echarts.min.js') }}"></script> 
<script src="{{ url_for('static', filename = 'js/scripts.js') }}"></script> 
<script src="{{ url_for('static', filename = 'laydate/laydate.js') }}"></script> 
<script>
const jsonUrl = "{{ url_for('static', filename='admin.json') }}";

window.addEventListener('DOMContentLoaded', function() {
    const tbody = document.getElementById('userTableBody');
    
    fetch(jsonUrl)
        .then(response => response.json())
        .then(users => {
            users.forEach(user => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${user.adminname}</td>
                    <td>${user.password}</td>
                    <td>${user.email}</td>
                    <td>
                        <a href="#" data-toggle="modal" data-target="#myModal">编辑</a>
                        <a href="#">删除</a>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        })
        .catch(error => console.error('Error:', error));
});
</script>
<script>
lay('#version').html('-v'+ laydate.v);
laydate.render({
    elem: '#test1'
 // ,range: true
  ,theme: '#1890ff'
});
</script>
</body>
</html>
